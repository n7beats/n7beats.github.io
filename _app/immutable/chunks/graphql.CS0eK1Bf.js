const Tr="n7beats-n7";var V={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class oe extends Error{constructor(r,t,n,a,i,o,l){super(r),this.name="GraphQLError",this.message=r,i&&(this.path=i),t&&(this.nodes=Array.isArray(t)?t:[t]),n&&(this.source=n),a&&(this.positions=a),o&&(this.originalError=o);var c=l;if(!c&&o){var u=o.extensions;u&&typeof u=="object"&&(c=u)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var g,d;function b(e){return new oe(`Syntax Error: Unexpected token at ${d} in ${e}`)}function T(e){if(e.lastIndex=d,e.test(g))return g.slice(d,d=e.lastIndex)}var Q=/ +(?=[^\s])/y;function $e(e){for(var r=e.split(`
`),t="",n=0,a=0,i=r.length-1,o=0;o<r.length;o++)Q.lastIndex=0,Q.test(r[o])&&(o&&(!n||Q.lastIndex<n)&&(n=Q.lastIndex),a=a||o,i=o);for(var l=a;l<=i;l++)l!==a&&(t+=`
`),t+=r[l].slice(n).replace(/\\"""/g,'"""');return t}function y(){for(var e=0|g.charCodeAt(d++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|g.charCodeAt(d++))if(e===35)for(;(e=g.charCodeAt(d++))!==10&&e!==13;);d--}var O=/[_A-Za-z]\w*/y,re=new RegExp("(?:(null|true|false)|\\$("+O.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+O.source+"))","y"),P=function(e){return e[e.Const=1]="Const",e[e.Var=2]="Var",e[e.Int=3]="Int",e[e.Float=4]="Float",e[e.BlockString=5]="BlockString",e[e.String=6]="String",e[e.Enum=7]="Enum",e}(P||{}),Ge=/\\/;function Y(e){var r,t;if(re.lastIndex=d,g.charCodeAt(d)===91){d++,y();for(var n=[];g.charCodeAt(d)!==93;)n.push(Y(e));return d++,y(),{kind:"ListValue",values:n}}else if(g.charCodeAt(d)===123){d++,y();for(var a=[];g.charCodeAt(d)!==125;){if((r=T(O))==null||(y(),g.charCodeAt(d++)!==58))throw b("ObjectField");y(),a.push({kind:"ObjectField",name:{kind:"Name",value:r},value:Y(e)})}return d++,y(),{kind:"ObjectValue",fields:a}}else if((t=re.exec(g))!=null){if(d=re.lastIndex,y(),(r=t[P.Const])!=null)return r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};if((r=t[P.Var])!=null){if(e)throw b("Variable");return{kind:"Variable",name:{kind:"Name",value:r}}}else if((r=t[P.Int])!=null){var i;return(i=t[P.Float])!=null?{kind:"FloatValue",value:r+i}:{kind:"IntValue",value:r}}else{if((r=t[P.BlockString])!=null)return{kind:"StringValue",value:$e(r.slice(3,-3)),block:!0};if((r=t[P.String])!=null)return{kind:"StringValue",value:Ge.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};if((r=t[P.Enum])!=null)return{kind:"EnumValue",value:r}}}throw b("Value")}function De(e){if(g.charCodeAt(d)===40){var r=[];d++,y();var t;do{if((t=T(O))==null||(y(),g.charCodeAt(d++)!==58))throw b("Argument");y(),r.push({kind:"Argument",name:{kind:"Name",value:t},value:Y(e)})}while(g.charCodeAt(d)!==41);return d++,y(),r}}function M(e){if(g.charCodeAt(d)===64){var r=[],t;do{if(d++,(t=T(O))==null)throw b("Directive");y(),r.push({kind:"Directive",name:{kind:"Name",value:t},arguments:De(e)})}while(g.charCodeAt(d)===64);return r}}function Be(){for(var e,r=0;g.charCodeAt(d)===91;)r++,d++,y();if((e=T(O))==null)throw b("NamedType");y();var t={kind:"NamedType",name:{kind:"Name",value:e}};do if(g.charCodeAt(d)===33&&(d++,y(),t={kind:"NonNullType",type:t}),r){if(g.charCodeAt(d++)!==93)throw b("NamedType");y(),t={kind:"ListType",type:t}}while(r--);return t}var te=new RegExp("(?:(\\.{3})|("+O.source+"))","y"),se=function(e){return e[e.Spread=1]="Spread",e[e.Name=2]="Name",e}(se||{});function W(){var e=[],r,t;do if(te.lastIndex=d,(t=te.exec(g))!=null){if(d=te.lastIndex,t[se.Spread]!=null){y();var n=T(O);if(n!=null&&n!=="on")y(),e.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:M(!1)});else{if(y(),n==="on"){if((n=T(O))==null)throw b("NamedType");y()}var a=M(!1);if(g.charCodeAt(d++)!==123)throw b("InlineFragment");y(),e.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:a,selectionSet:W()})}}else if((r=t[se.Name])!=null){var i=void 0;if(y(),g.charCodeAt(d)===58){if(d++,y(),i=r,(r=T(O))==null)throw b("Field");y()}var o=De(!1);y();var l=M(!1),c=void 0;g.charCodeAt(d)===123&&(d++,y(),c=W()),e.push({kind:"Field",alias:i?{kind:"Name",value:i}:void 0,name:{kind:"Name",value:r},arguments:o,directives:l,selectionSet:c})}}else throw b("SelectionSet");while(g.charCodeAt(d)!==125);return d++,y(),{kind:"SelectionSet",selections:e}}function Qe(){var e,r;if((e=T(O))==null||(y(),T(O)!=="on")||(y(),(r=T(O))==null))throw b("FragmentDefinition");y();var t=M(!1);if(g.charCodeAt(d++)!==123)throw b("FragmentDefinition");return y(),{kind:"FragmentDefinition",name:{kind:"Name",value:e},typeCondition:{kind:"NamedType",name:{kind:"Name",value:r}},directives:t,selectionSet:W()}}var Je=/(?:query|mutation|subscription|fragment)/y;function Ue(e){var r,t,n;if(e&&(y(),r=T(O),t=function(){if(y(),g.charCodeAt(d)===40){var i=[];d++,y();var o;do{if(g.charCodeAt(d++)!==36||(o=T(O))==null)throw b("Variable");if(y(),g.charCodeAt(d++)!==58)throw b("VariableDefinition");y();var l=Be(),c=void 0;g.charCodeAt(d)===61&&(d++,y(),c=Y(!0)),y(),i.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:o}},type:l,defaultValue:c,directives:M(!0)})}while(g.charCodeAt(d)!==41);return d++,y(),i}}(),n=M(!1)),g.charCodeAt(d)===123)return d++,y(),{kind:"OperationDefinition",operation:e||"query",name:r?{kind:"Name",value:r}:void 0,variableDefinitions:t,directives:n,selectionSet:W()}}function Te(e,r){return g=typeof e.body=="string"?e.body:e,d=0,function(){var n,a;y();var i=[];do if((n=T(Je))==="fragment")y(),i.push(Qe());else if((a=Ue(n))!=null)i.push(a);else throw b("Document");while(d<g.length);return{kind:"Document",definitions:i}}()}function I(e,r,t){for(var n="",a=0;a<e.length;a++)a&&(n+=r),n+=t(e[a]);return n}function ze(e){return JSON.stringify(e)}function Ye(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var q=`
`,w={OperationDefinition(e){var r=e.operation;return e.name&&(r+=" "+e.name.value),e.variableDefinitions&&e.variableDefinitions.length&&(e.name||(r+=" "),r+="("+I(e.variableDefinitions,", ",w.VariableDefinition)+")"),e.directives&&e.directives.length&&(r+=" "+I(e.directives," ",w.Directive)),r!=="query"?r+" "+w.SelectionSet(e.selectionSet):w.SelectionSet(e.selectionSet)},VariableDefinition(e){var r=w.Variable(e.variable)+": "+_(e.type);return e.defaultValue&&(r+=" = "+_(e.defaultValue)),e.directives&&e.directives.length&&(r+=" "+I(e.directives," ",w.Directive)),r},Field(e){var r=e.alias?e.alias.value+": "+e.name.value:e.name.value;if(e.arguments&&e.arguments.length){var t=I(e.arguments,", ",w.Argument);r.length+t.length+2>80?r+="("+(q+="  ")+I(e.arguments,q,w.Argument)+(q=q.slice(0,-2))+")":r+="("+t+")"}return e.directives&&e.directives.length&&(r+=" "+I(e.directives," ",w.Directive)),e.selectionSet&&(r+=" "+w.SelectionSet(e.selectionSet)),r},StringValue(e){return e.block?Ye(e.value).replace(/\n/g,q):ze(e.value)},BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+I(e.values,", ",_)+"]",ObjectValue:e=>"{"+I(e.fields,", ",w.ObjectField)+"}",ObjectField:e=>e.name.value+": "+_(e.value),Document(e){return!e.definitions||!e.definitions.length?"":I(e.definitions,`

`,_)},SelectionSet:e=>"{"+(q+="  ")+I(e.selections,q,_)+(q=q.slice(0,-2))+"}",Argument:e=>e.name.value+": "+_(e.value),FragmentSpread(e){var r="..."+e.name.value;return e.directives&&e.directives.length&&(r+=" "+I(e.directives," ",w.Directive)),r},InlineFragment(e){var r="...";return e.typeCondition&&(r+=" on "+e.typeCondition.name.value),e.directives&&e.directives.length&&(r+=" "+I(e.directives," ",w.Directive)),r+=" "+w.SelectionSet(e.selectionSet)},FragmentDefinition(e){var r="fragment "+e.name.value;return r+=" on "+e.typeCondition.name.value,e.directives&&e.directives.length&&(r+=" "+I(e.directives," ",w.Directive)),r+" "+w.SelectionSet(e.selectionSet)},Directive(e){var r="@"+e.name.value;return e.arguments&&e.arguments.length&&(r+="("+I(e.arguments,", ",w.Argument)+")"),r},NamedType:e=>e.name.value,ListType:e=>"["+_(e.type)+"]",NonNullType:e=>_(e.type)+"!"},_=e=>w[e.kind](e);function We(e){return q=`
`,w[e.kind]?w[e.kind](e):""}function Ce(){function e(r,t){var n=Te(r).definitions,a=new Set;for(var i of t||[])for(var o of i.definitions)o.kind===V.FRAGMENT_DEFINITION&&!a.has(o)&&(n.push(o),a.add(o));return n[0].kind===V.FRAGMENT_DEFINITION&&n[0].directives&&(n[0].directives=n[0].directives.filter(l=>l.name.value!=="_unmask")),{kind:V.DOCUMENT,definitions:n}}return e.scalar=function(t,n){return n},e.persisted=function(t,n){return{kind:V.DOCUMENT,definitions:n?n.definitions:[],documentId:t}},e}Ce();var Fe=()=>{},C=Fe;function F(e){return{tag:0,0:e}}function B(e){return{tag:1,0:e}}var ye=()=>typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator",He=e=>e;function D(e){return r=>t=>{var n=C;r(a=>{a===0?t(0):a.tag===0?(n=a[0],t(a)):e(a[0])?t(a):n(0)})}}function J(e){return r=>t=>r(n=>{n===0||n.tag===0?t(n):t(B(e(n[0])))})}function qe(e){return r=>t=>{var n=[],a=C,i=!1,o=!1;r(l=>{o||(l===0?(o=!0,n.length||t(0)):l.tag===0?a=l[0]:(i=!1,function(u){var p=C;u(v=>{if(v===0){if(n.length){var m=n.indexOf(p);m>-1&&(n=n.slice()).splice(m,1),n.length||(o?t(0):i||(i=!0,a(0)))}}else v.tag===0?(n.push(p=v[0]),p(0)):n.length&&(t(v),p(0))})}(e(l[0])),i||(i=!0,a(0))))}),t(F(l=>{if(l===1){o||(o=!0,a(1));for(var c=0,u=n,p=n.length;c<p;c++)u[c](1);n.length=0}else{!o&&!i?(i=!0,a(0)):i=!1;for(var v=0,m=n,x=n.length;v<x;v++)m[v](0)}}))}}function Ze(e){return qe(He)(e)}function $(e){return Ze(rr(e))}function _e(e){return r=>t=>{var n=!1;r(a=>{if(!n)if(a===0)n=!0,t(0),e();else if(a.tag===0){var i=a[0];t(F(o=>{o===1?(n=!0,i(1),e()):i(o)}))}else t(a)})}}function Ve(e){return r=>t=>{var n=!1;r(a=>{if(!n)if(a===0)n=!0,t(0);else if(a.tag===0){var i=a[0];t(F(o=>{o===1&&(n=!0),i(o)}))}else e(a[0]),t(a)})}}function me(e){return r=>t=>r(n=>{n===0?t(0):n.tag===0?(t(n),e()):t(n)})}function G(e){var r=[],t=C,n=!1;return a=>{r.push(a),r.length===1&&e(i=>{if(i===0){for(var o=0,l=r,c=r.length;o<c;o++)l[o](0);r.length=0}else if(i.tag===0)t=i[0];else{n=!1;for(var u=0,p=r,v=r.length;u<v;u++)p[u](i)}}),a(F(i=>{if(i===1){var o=r.indexOf(a);o>-1&&(r=r.slice()).splice(o,1),r.length||t(1)}else n||(n=!0,t(0))}))}}function ge(e){return r=>t=>{var n=C,a=C,i=!1,o=!1,l=!1,c=!1;r(u=>{c||(u===0?(c=!0,l||t(0)):u.tag===0?n=u[0]:(l&&(a(1),a=C),i?i=!1:(i=!0,n(0)),function(v){l=!0,v(m=>{l&&(m===0?(l=!1,c?t(0):i||(i=!0,n(0))):m.tag===0?(o=!1,(a=m[0])(0)):(t(m),o?o=!1:a(0)))})}(e(u[0]))))}),t(F(u=>{u===1?(c||(c=!0,n(1)),l&&(l=!1,a(1))):(!c&&!i&&(i=!0,n(0)),l&&!o&&(o=!0,a(0)))}))}}function Pe(e){return r=>t=>{var n=C,a=!1,i=0;r(o=>{a||(o===0?(a=!0,t(0)):o.tag===0?n=o[0]:i++<e?(t(o),!a&&i>=e&&(a=!0,t(0),n(1))):t(o))}),t(F(o=>{o===1&&!a?(a=!0,n(1)):o===0&&!a&&i<e&&n(0)}))}}function Le(e){return r=>t=>{var n=C,a=C,i=!1;r(o=>{i||(o===0?(i=!0,a(1),t(0)):o.tag===0?(n=o[0],e(l=>{l===0||(l.tag===0?(a=l[0])(0):(i=!0,a(1),n(1),t(0)))})):t(o))}),t(F(o=>{o===1&&!i?(i=!0,n(1),a(1)):i||n(0)}))}}function Ke(e,r){return t=>n=>{var a=C,i=!1;t(o=>{i||(o===0?(i=!0,n(0)):o.tag===0?(a=o[0],n(o)):e(o[0])?n(o):(i=!0,n(o),n(0),a(1)))})}}function Xe(e){return r=>e()(r)}function Re(e){return r=>{var t=e[ye()]&&e[ye()]()||e,n=!1,a=!1,i=!1,o;r(F(async l=>{if(l===1)n=!0,t.return&&t.return();else if(a)i=!0;else{for(i=a=!0;i&&!n;)if((o=await t.next()).done)n=!0,t.return&&await t.return(),r(0);else try{i=!1,r(B(o.value))}catch(c){if(t.throw)(n=!!(await t.throw(c)).done)&&r(0);else throw c}a=!1}}))}}function er(e){return e[Symbol.asyncIterator]?Re(e):r=>{var t=e[Symbol.iterator](),n=!1,a=!1,i=!1,o;r(F(l=>{if(l===1)n=!0,t.return&&t.return();else if(a)i=!0;else{for(i=a=!0;i&&!n;)if((o=t.next()).done)n=!0,t.return&&t.return(),r(0);else try{i=!1,r(B(o.value))}catch(c){if(t.throw)(n=!!t.throw(c).done)&&r(0);else throw c}a=!1}}))}}var rr=er;function ne(e){return r=>{var t=!1;r(F(n=>{n===1?t=!0:t||(t=!0,r(B(e)),r(0))}))}}function tr(e){return r=>{var t=!1,n=e({next(a){t||r(B(a))},complete(){t||(t=!0,r(0))}});r(F(a=>{a===1&&!t&&(t=!0,n())}))}}function nr(){var e,r;return{source:G(tr(t=>(e=t.next,r=t.complete,Fe))),next(t){e&&e(t)},complete(){r&&r()}}}function de(e){return r=>{var t=C,n=!1;return r(a=>{a===0?n=!0:a.tag===0?(t=a[0])(0):n||(e(a[0]),t(0))}),{unsubscribe(){n||(n=!0,t(1))}}}}function ar(e){de(r=>{})(e)}function ir(e){return new Promise(r=>{var t=C,n;e(a=>{a===0?Promise.resolve(n).then(r):a.tag===0?(t=a[0])(0):(n=a[0],t(0))})})}var or=e=>e&&typeof e.message=="string"&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&typeof e.message=="string"?new oe(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new oe(e);class he extends Error{constructor(r){var t=(r.graphQLErrors||[]).map(or),n=((a,i)=>{var o="";if(a)return`[Network] ${a.message}`;if(i)for(var l of i)o&&(o+=`
`),o+=`[GraphQL] ${l.message}`;return o})(r.networkError,t);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=t,this.networkError=r.networkError,this.response=r.response}toString(){return this.message}}var U=(e,r)=>{for(var t=0|(r||5381),n=0,a=0|e.length;n<a;n++)t=(t<<5)+t+e.charCodeAt(n);return t},L=new Set,ke=new WeakMap,R=(e,r)=>{if(e===null||L.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return R(e.toJSON(),r);if(Array.isArray(e)){var t="[";for(var n of e)t.length>1&&(t+=","),t+=R(n,r)||"null";return t+="]"}else if(!r&&(Z!==j&&e instanceof Z||K!==j&&e instanceof K))return"null";var a=Object.keys(e).sort();if(!a.length&&e.constructor&&Object.getPrototypeOf(e).constructor!==Object.prototype.constructor){var i=ke.get(e)||Math.random().toString(36).slice(2);return ke.set(e,i),R({__key:i},r)}L.add(e);var o="{";for(var l of a){var c=R(e[l],r);c&&(o.length>1&&(o+=","),o+=R(l,r)+":"+c)}return L.delete(e),o+="}"},le=(e,r,t)=>{if(!(t==null||typeof t!="object"||t.toJSON||L.has(t)))if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)le(e,`${r}.${n}`,t[n]);else if(t instanceof Z||t instanceof K)e.set(r,t);else{L.add(t);for(var i of Object.keys(t))le(e,`${r}.${i}`,t[i])}},H=(e,r)=>(L.clear(),R(e,r||!1));class j{}var Z=typeof File<"u"?File:j,K=typeof Blob<"u"?Blob:j,sr=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,lr=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,ur=(e,r)=>r%2==0?e.replace(lr,`
`):e,xe=e=>e.split(sr).map(ur).join("").trim(),be=new Map,z=new Map,pe=e=>{var r;return typeof e=="string"?r=xe(e):e.loc&&z.get(e.__key)===e?r=e.loc.source.body:(r=be.get(e)||xe(We(e)),be.set(e,r)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:r.length,source:{body:r,name:"gql",locationOffset:{line:1,column:1}}}),r},we=e=>{var r;if(e.documentId)r=U(e.documentId);else if(r=U(pe(e)),e.definitions){var t=je(e);t&&(r=U(`
# ${t}`,r))}return r},Me=e=>{var r,t;return typeof e=="string"?(r=we(e),t=z.get(r)||Te(e)):(r=e.__key||we(e),t=z.get(r)||e),t.loc||pe(t),t.__key=r,z.set(r,t),t},ae=(e,r,t)=>{var n=r||{},a=Me(e),i=H(n,!0),o=a.__key;return i!=="{}"&&(o=U(i,o)),{key:o,query:a,variables:n,extensions:t}},je=e=>{for(var r of e.definitions)if(r.kind===V.OPERATION_DEFINITION)return r.name?r.name.value:void 0},ue=(e,r,t)=>{if(!("data"in r||"errors"in r&&Array.isArray(r.errors)))throw new Error("No Content");var n=e.kind==="subscription";return{operation:e,data:r.data,error:Array.isArray(r.errors)?new he({graphQLErrors:r.errors,response:t}):void 0,extensions:r.extensions?{...r.extensions}:void 0,hasNext:r.hasNext==null?n:r.hasNext,stale:!1}},fe=(e,r)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var t of Object.keys(r))e[t]=fe(e[t],r[t]);return e}return r},fr=(e,r,t,n)=>{var a=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!(r.payload||r).extensions,o={...e.extensions,...(r.payload||r).extensions},l=r.incremental;"path"in r&&(l=[r]);var c={data:e.data};if(l){var u=function(v){Array.isArray(v.errors)&&a.push(...v.errors),v.extensions&&(Object.assign(o,v.extensions),i=!0);var m="data",x=c,k=[];if(v.path)k=v.path;else if(n){var N=n.find(E=>E.id===v.id);v.subPath?k=[...N.path,...v.subPath]:k=N.path}for(var S=0,A=k.length;S<A;m=k[S++])x=x[m]=Array.isArray(x[m])?[...x[m]]:{...x[m]};if(v.items)for(var s=+m>=0?m:0,h=0,f=v.items.length;h<f;h++)x[s+h]=fe(x[s+h],v.items[h]);else v.data!==void 0&&(x[m]=fe(x[m],v.data))};for(var p of l)u(p)}else c.data=(r.payload||r).data||e.data,a=r.errors||r.payload&&r.payload.errors||a;return{operation:e.operation,data:c.data,error:a.length?new he({graphQLErrors:a,response:t}):void 0,extensions:i?o:void 0,hasNext:r.hasNext!=null?r.hasNext:e.hasNext,stale:!1}},cr=(e,r,t)=>({operation:e,data:void 0,error:new he({networkError:r,response:t}),extensions:void 0,hasNext:!1,stale:!1});function vr(e){var r={query:void 0,documentId:void 0,operationName:je(e.query),variables:e.variables||void 0,extensions:e.extensions};return"documentId"in e.query&&e.query.documentId&&(!e.query.definitions||!e.query.definitions.length)?r.documentId=e.query.documentId:(!e.extensions||!e.extensions.persistedQuery||e.extensions.persistedQuery.miss)&&(r.query=pe(e.query)),r}var dr=(e,r)=>{var t=e.kind==="query"&&e.context.preferGetMethod;if(!t||!r)return e.context.url;var n=hr(e.context.url);for(var a in r){var i=r[a];i&&n[1].set(a,typeof i=="object"?H(i):i)}var o=n.join("?");return o.length>2047&&t!=="force"?(e.context.preferGetMethod=!1,e.context.url):o},hr=e=>{var r=e.indexOf("?");return r>-1?[e.slice(0,r),new URLSearchParams(e.slice(r+1))]:[e,new URLSearchParams]},pr=(e,r)=>{if(r&&!(e.kind==="query"&&e.context.preferGetMethod)){var t=H(r),n=(l=>{var c=new Map;return(Z!==j||K!==j)&&(L.clear(),le(c,"variables",l)),c})(r.variables);if(n.size){var a=new FormData;a.append("operations",t),a.append("map",H({...[...n.keys()].map(l=>[l])}));var i=0;for(var o of n.values())a.append(""+i++,o);return a}return t}},yr=(e,r)=>{var t={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(n.headers)if((o=>"has"in o&&!Object.keys(o).length)(n.headers))n.headers.forEach((o,l)=>{t[l]=o});else if(Array.isArray(n.headers))n.headers.forEach((o,l)=>{Array.isArray(o)?t[o[0]]?t[o[0]]=`${t[o[0]]},${o[1]}`:t[o[0]]=o[1]:t[l]=o});else for(var a in n.headers)t[a.toLowerCase()]=n.headers[a];var i=pr(e,r);return typeof i=="string"&&!t["content-type"]&&(t["content-type"]="application/json"),{...n,method:i?"POST":"GET",body:i,headers:t}},mr=typeof TextDecoder<"u"?new TextDecoder:null,gr=/boundary="?([^=";]+)"?/i,kr=/data: ?([^\n]+)/,Ne=e=>e.constructor.name==="Buffer"?e.toString():mr.decode(e);async function*Se(e){if(e.body[Symbol.asyncIterator])for await(var r of e.body)yield Ne(r);else{var t=e.body.getReader(),n;try{for(;!(n=await t.read()).done;)yield Ne(n.value)}finally{t.cancel()}}}async function*Oe(e,r){var t="",n;for await(var a of e)for(t+=a;(n=t.indexOf(r))>-1;)yield t.slice(0,n),t=t.slice(n+r.length)}async function*xr(e,r,t){var n=!0,a=null,i;try{yield await Promise.resolve();var o=(i=await(e.context.fetch||fetch)(r,t)).headers.get("Content-Type")||"",l;/multipart\/mixed/i.test(o)?l=async function*(v,m){var x=v.match(gr),k="--"+(x?x[1]:"-"),N=!0,S;for await(var A of Oe(Se(m),`\r
`+k)){if(N){N=!1;var s=A.indexOf(k);if(s>-1)A=A.slice(s+k.length);else continue}try{yield S=JSON.parse(A.slice(A.indexOf(`\r
\r
`)+4))}catch(h){if(!S)throw h}if(S&&S.hasNext===!1)break}S&&S.hasNext!==!1&&(yield{hasNext:!1})}(o,i):/text\/event-stream/i.test(o)?l=async function*(v){var m;for await(var x of Oe(Se(v),`

`)){var k=x.match(kr);if(k){var N=k[1];try{yield m=JSON.parse(N)}catch(S){if(!m)throw S}if(m&&m.hasNext===!1)break}}m&&m.hasNext!==!1&&(yield{hasNext:!1})}(i):/text\//i.test(o)?l=async function*(v){var m=await v.text();try{var x=JSON.parse(m);yield x}catch{throw new Error(m)}}(i):l=async function*(v){yield JSON.parse(await v.text())}(i);var c;for await(var u of l)u.pending&&!a?c=u.pending:u.pending&&(c=[...c,...u.pending]),a=a?fr(a,u,i,c):ue(e,u,i),n=!1,yield a,n=!0;a||(yield a=ue(e,{},i))}catch(p){if(!n)throw p;yield cr(e,i&&(i.status<200||i.status>=300)&&i.statusText?new Error(i.statusText):p,i)}}function br(e,r,t){var n;return typeof AbortController<"u"&&(t.signal=(n=new AbortController).signal),_e(()=>{n&&n.abort()})(D(a=>!!a)(Re(xr(e,r,t))))}var ce=(e,r)=>{if(Array.isArray(e))for(var t of e)ce(t,r);else if(typeof e=="object"&&e!==null)for(var n in e)n==="__typename"&&typeof e[n]=="string"?r.add(e[n]):ce(e[n],r);return r},ve=e=>{if("definitions"in e){var r=[];for(var t of e.definitions){var n=ve(t);r.push(n)}return{...e,definitions:r}}if("directives"in e&&e.directives&&e.directives.length){var a=[],i={};for(var o of e.directives){var l=o.name.value;l[0]!=="_"?a.push(o):l=l.slice(1),i[l]=o}e={...e,directives:a,_directives:i}}if("selectionSet"in e){var c=[],u=e.kind===V.OPERATION_DEFINITION;if(e.selectionSet){for(var p of e.selectionSet.selections||[]){u=u||p.kind===V.FIELD&&p.name.value==="__typename"&&!p.alias;var v=ve(p);c.push(v)}return u||c.push({kind:V.FIELD,name:{kind:V.NAME,value:"__typename"},_generated:!0}),{...e,selectionSet:{...e.selectionSet,selections:c}}}}return e},Ae=new Map,wr=e=>{var r=Me(e),t=Ae.get(r.__key);return t||(Ae.set(r.__key,t=ve(r)),Object.defineProperty(t,"__key",{value:r.__key,enumerable:!1})),t};function Ee(e){var r=t=>e(t);return r.toPromise=()=>ir(Pe(1)(D(t=>!t.stale&&!t.hasNext)(r))),r.then=(t,n)=>r.toPromise().then(t,n),r.subscribe=t=>de(t)(r),r}function X(e,r,t){return{...r,kind:e,context:r.context?{...r.context,...t}:t||r.context}}var Nr=()=>{},ie=({kind:e})=>e!=="mutation"&&e!=="query",Sr=e=>{var r=wr(e.query);if(r!==e.query){var t=X(e.kind,e);return t.query=r,t}else return e},Or=({forward:e,client:r,dispatchDebug:t})=>{var n=new Map,a=new Map,i=o=>o.kind==="query"&&o.context.requestPolicy!=="network-only"&&(o.context.requestPolicy==="cache-only"||n.has(o.key));return o=>{var l=J(u=>{var p=n.get(u.key),v=p||ue(u,{data:null});return v={...v,operation:u},u.context.requestPolicy==="cache-and-network"&&(v.stale=!0,Ie(r,u)),v})(D(u=>!ie(u)&&i(u))(o)),c=Ve(u=>{var{operation:p}=u;if(p){var v=p.context.additionalTypenames||[];if(u.operation.kind!=="subscription"&&(v=(E=>[...ce(E,new Set)])(u.data).concat(v)),u.operation.kind==="mutation"||u.operation.kind==="subscription"){for(var m=new Set,x=0;x<v.length;x++){var k=v[x],N=a.get(k);N||a.set(k,N=new Set);for(var S of N.values())m.add(S);N.clear()}for(var A of m.values())n.has(A)&&(p=n.get(A).operation,n.delete(A),Ie(r,p))}else if(p.kind==="query"&&u.data){n.set(p.key,u);for(var s=0;s<v.length;s++){var h=v[s],f=a.get(h);f||a.set(h,f=new Set),f.add(p.key)}}}})(e(D(u=>u.kind!=="query"||u.context.requestPolicy!=="cache-only")(J(u=>u)($([J(Sr)(D(u=>!ie(u)&&!i(u))(o)),D(u=>ie(u))(o)])))));return $([l,c])}},Ie=(e,r)=>e.reexecuteOperation(X(r.kind,r,{requestPolicy:"network-only"})),Ar=({forward:e,dispatchDebug:r})=>t=>{var n=qe(i=>{var o=vr(i),l=dr(i,o),c=yr(i,o),u=Le(D(p=>p.kind==="teardown"&&p.key===i.key)(t))(br(i,l,c));return u})(D(i=>i.kind!=="teardown"&&(i.kind!=="subscription"||!!i.context.fetchSubscriptions))(t)),a=e(D(i=>i.kind==="teardown"||i.kind==="subscription"&&!i.context.fetchSubscriptions)(t));return $([n,a])},Er=e=>({client:r,forward:t,dispatchDebug:n})=>e.reduceRight((a,i)=>i({client:r,forward(o){return G(a(G(o)))},dispatchDebug(o){}}),t),Ir=({dispatchDebug:e})=>r=>D(t=>!1)(r),Dr=function e(r){var t=0,n=new Map,a=new Map,i=new Set,o=[],l={url:r.url,fetchSubscriptions:r.fetchSubscriptions,fetchOptions:r.fetchOptions,fetch:r.fetch,preferGetMethod:r.preferGetMethod,requestPolicy:r.requestPolicy||"cache-first"},c=nr();function u(s){(s.kind==="mutation"||s.kind==="teardown"||!i.has(s.key))&&(s.kind==="teardown"?i.delete(s.key):s.kind!=="mutation"&&i.add(s.key),c.next(s))}var p=!1;function v(s){if(s&&u(s),!p){for(p=!0;p&&(s=o.shift());)u(s);p=!1}}var m=s=>{var h=Le(D(f=>f.kind==="teardown"&&f.key===s.key)(c.source))(D(f=>f.operation.kind===s.kind&&f.operation.key===s.key&&(!f.operation.context._instance||f.operation.context._instance===s.context._instance))(A));return s.kind!=="query"?h=Ke(f=>!!f.hasNext)(h):h=ge(f=>{var E=ne(f);return f.stale||f.hasNext?E:$([E,J(()=>(f.stale=!0,f))(Pe(1)(D(ee=>ee.key===s.key)(c.source)))])})(h),s.kind!=="mutation"?h=_e(()=>{i.delete(s.key),n.delete(s.key),a.delete(s.key),p=!1;for(var f=o.length-1;f>=0;f--)o[f].key===s.key&&o.splice(f,1);u(X("teardown",s,s.context))})(Ve(f=>{if(f.stale){if(!f.hasNext)i.delete(s.key);else for(var E of o)if(E.key===f.operation.key){i.delete(E.key);break}}else f.hasNext||i.delete(s.key);n.set(s.key,f)})(h)):h=me(()=>{u(s)})(h),G(h)},x=this instanceof e?this:Object.create(e.prototype),k=Object.assign(x,{suspense:!!r.suspense,operations$:c.source,reexecuteOperation(s){if(s.kind==="teardown")v(s);else if(s.kind==="mutation")o.push(s),Promise.resolve().then(v);else if(a.has(s.key)){for(var h=!1,f=0;f<o.length;f++)o[f].key===s.key&&(o[f]=s,h=!0);h||i.has(s.key)&&s.context.requestPolicy!=="network-only"?(i.delete(s.key),Promise.resolve().then(v)):(o.push(s),Promise.resolve().then(v))}},createRequestOperation(s,h,f){return f||(f={}),X(s,h,{_instance:s==="mutation"?t=t+1|0:void 0,...l,...f,requestPolicy:f.requestPolicy||l.requestPolicy,suspense:f.suspense||f.suspense!==!1&&k.suspense})},executeRequestOperation(s){return s.kind==="mutation"?Ee(m(s)):Ee(Xe(()=>{var h=a.get(s.key);h||a.set(s.key,h=m(s)),h=me(()=>{v(s)})(h);var f=n.get(s.key);return s.kind==="query"&&f&&(f.stale||f.hasNext)?ge(ne)($([h,D(E=>E===n.get(s.key))(ne(f))])):h}))},executeQuery(s,h){var f=k.createRequestOperation("query",s,h);return k.executeRequestOperation(f)},executeSubscription(s,h){var f=k.createRequestOperation("subscription",s,h);return k.executeRequestOperation(f)},executeMutation(s,h){var f=k.createRequestOperation("mutation",s,h);return k.executeRequestOperation(f)},readQuery(s,h,f){var E=null;return de(ee=>{E=ee})(k.query(s,h,f)).unsubscribe(),E},query:(s,h,f)=>k.executeQuery(ae(s,h),f),subscription:(s,h,f)=>k.executeSubscription(ae(s,h),f),mutation:(s,h,f)=>k.executeMutation(ae(s,h),f)}),N=Nr,S=Er(r.exchanges),A=G(S({client:k,dispatchDebug:N,forward:Ir({dispatchDebug:N})})(c.source));return ar(A),k};const Cr=Ce(),Fr=new Dr({url:"https://churros.inpt.fr/graphql",exchanges:[Or,Ar]});export{Tr as P,Fr as c,Cr as g};
